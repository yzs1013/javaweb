{"remainingRequest":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebVue\\javaweb-ui\\src\\views\\generator\\gentable\\editTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebVue\\javaweb-ui\\src\\views\\generator\\gentable\\editTable.vue","mtime":1619428986000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBiYXNpY0luZm9Gb3JtIGZyb20gIi4vYmFzaWNJbmZvRm9ybSI7CmltcG9ydCBnZW5JbmZvRm9ybSBmcm9tICIuL2dlbkluZm9Gb3JtIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHZW5FZGl0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVMb2FkaW5nOiBmYWxzZSwKICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAieS4remAiemhueWNoeeahCBuYW1lCiAgICAgIGFjdGl2ZU5hbWU6ICJjbG91bSIsCiAgICAgIC8vIOihqOagvOeahOmrmOW6pgogICAgICB0YWJsZUhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIDE4MCArICJweCIsCiAgICAgIC8vIOihqOWIl+S/oeaBrwogICAgICBjbG91bW5zOiBbXSwKICAgICAgLy8g5a2X5YW45L+h5oGvCiAgICAgIGRpY3RPcHRpb25zOiBbXSwKICAgICAgLy8g6KGo6K+m57uG5L+h5oGvCiAgICAgIGluZm86IHt9LAogICAgICBkaXJlY3Rpb246ICdydGwnCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHZpc2libGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdGFibGVJZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBiYXNpY0luZm9Gb3JtOiBiYXNpY0luZm9Gb3JtLAogICAgZ2VuSW5mb0Zvcm06IGdlbkluZm9Gb3JtCiAgfSwKICBjb21wdXRlZDoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VGFibGVJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOiOt+WPluihqOivpuaDhQogICAgICovCiAgICBnZXRUYWJsZUluZm86IGZ1bmN0aW9uIGdldFRhYmxlSW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cC5nZXQoJy9nZW50YWJsZS9nZXRUYWJsZUluZm8vJyArIHRoaXMudGFibGVJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY2xvdW1ucyA9IHJlcy5kYXRhLmRhdGEucmVjb3JkczsKICAgICAgICBfdGhpcy5pbmZvID0gcmVzLmRhdGEuZGF0YS5pbmZvOwogICAgICAgIF90aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLmNsb3VtbnMgPSBbXTsKICAgICAgICBfdGhpcy5pbmZvID0ge307CiAgICAgICAgX3RoaXMudGFibGVMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGUubWVzc2FnZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOaPkOS6pOihqOWNlQogICAgICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBiYXNpY0Zvcm0gPSB0aGlzLiRyZWZzLmJhc2ljSW5mby4kcmVmcy5iYXNpY0luZm9Gb3JtOwogICAgICB2YXIgZ2VuRm9ybSA9IHRoaXMuJHJlZnMuZ2VuSW5mby4kcmVmcy5nZW5JbmZvRm9ybTsKICAgICAgUHJvbWlzZS5hbGwoW2Jhc2ljRm9ybSwgZ2VuRm9ybV0ubWFwKHRoaXMuZ2V0Rm9ybVByb21pc2UpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgdmFsaWRhdGVSZXN1bHQgPSByZXMuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiAhIWl0ZW07CiAgICAgICAgfSk7CgogICAgICAgIGlmICh2YWxpZGF0ZVJlc3VsdCkgewogICAgICAgICAgdmFyIGdlblRhYmxlID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzaWNGb3JtLm1vZGVsLCBnZW5Gb3JtLm1vZGVsKTsKICAgICAgICAgIGdlblRhYmxlLmNvbHVtbnMgPSBfdGhpczIuY2xvdW1uczsKICAgICAgICAgIGdlblRhYmxlLnBhcmFtcyA9IHsKICAgICAgICAgICAgdHJlZUNvZGU6IGdlblRhYmxlLnRyZWVDb2RlLAogICAgICAgICAgICB0cmVlTmFtZTogZ2VuVGFibGUudHJlZU5hbWUsCiAgICAgICAgICAgIHRyZWVQYXJlbnRDb2RlOiBnZW5UYWJsZS50cmVlUGFyZW50Q29kZQogICAgICAgICAgfTsgLy8g5pu05paw5Lia5Yqh6KGoCgogICAgICAgICAgX3RoaXMyLiRodHRwLnB1dCgnL2dlbnRhYmxlL3VwZGF0ZUdlblRhYmxlJywgZ2VuVGFibGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZywKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczIuc3VibWl0TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCJyZXR1cm5CYWNrIik7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczIuc3VibWl0TG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGUubWVzc2FnZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIuS4muWKoeihqOabtOaWsOWksei0pSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Rm9ybVByb21pc2U6IGZ1bmN0aW9uIGdldEZvcm1Qcm9taXNlKGZvcm0pIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgZm9ybS52YWxpZGF0ZShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWFs+mXremhtemdogogICAgICovCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoaGlkZSkgewogICAgICBpZiAoaGlkZSkgewogICAgICAgIGhpZGUoKTsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgicmV0dXJuQmFjayIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["editTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-drawer\r\n    class=\"edit-table\"\r\n    title=\"编辑\"\r\n    :visible.sync=\"visible\"\r\n    :direction=\"direction\"\r\n    :size=\"'calc(100vw - 256px)'\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-card shadow=\"never\" body-style=\"position:relative;padding:0;\" style=\"margin:5px 20px;\">\r\n      <el-tabs v-model=\"activeName\" class=\"demo-icon-tabs\">\r\n        <el-tab-pane label=\"基本信息\" name=\"basic\">\r\n          <basic-info-form ref=\"basicInfo\" :info=\"info\" />\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"字段信息\" name=\"cloum\" style=\"margin-top:10px;\">\r\n          <el-table size=\"medium\" v-loading=\"tableLoading\" :data=\"cloumns\" :max-height=\"tableHeight\">\r\n            <el-table-column label=\"编号\" type=\"index\" width=\"60\" />\r\n            <el-table-column prop=\"columnName\" label=\"字段列名\" :show-overflow-tooltip=\"true\" min-width=\"10%\"/>\r\n            <el-table-column label=\"字段描述\" min-width=\"10%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.columnComment\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"columnType\" label=\"数据类型\" :show-overflow-tooltip=\"true\" min-width=\"10%\"/>\r\n            <el-table-column label=\"字段类型\" min-width=\"11%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-select v-model=\"scope.row.javaType\">\r\n                  <el-option label=\"Long\" value=\"Long\" />\r\n                  <el-option label=\"String\" value=\"String\" />\r\n                  <el-option label=\"Integer\" value=\"Integer\" />\r\n                  <el-option label=\"Double\" value=\"Double\" />\r\n                  <el-option label=\"BigDecimal\" value=\"BigDecimal\" />\r\n                  <el-option label=\"Date\" value=\"Date\" />\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"字段属性\" min-width=\"10%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.javaField\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"插入\" min-width=\"5%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox true-label=\"1\" v-model=\"scope.row.isInsert\"></el-checkbox>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"编辑\" min-width=\"5%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox true-label=\"1\" v-model=\"scope.row.isEdit\"></el-checkbox>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"列表\" min-width=\"5%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox true-label=\"1\" v-model=\"scope.row.isList\"></el-checkbox>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"查询\" min-width=\"5%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox true-label=\"1\" v-model=\"scope.row.isQuery\"></el-checkbox>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"查询方式\" min-width=\"10%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-select v-model=\"scope.row.queryType\">\r\n                  <el-option label=\"=\" value=\"EQ\" />\r\n                  <el-option label=\"!=\" value=\"NE\" />\r\n                  <el-option label=\">\" value=\"GT\" />\r\n                  <el-option label=\">=\" value=\"GTE\" />\r\n                  <el-option label=\"<\" value=\"LT\" />\r\n                  <el-option label=\"<=\" value=\"LTE\" />\r\n                  <el-option label=\"LIKE\" value=\"LIKE\" />\r\n                  <el-option label=\"BETWEEN\" value=\"BETWEEN\" />\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"必填\" min-width=\"5%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox true-label=\"1\" v-model=\"scope.row.isRequired\"></el-checkbox>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"显示类型\" min-width=\"12%\">\r\n              <template slot-scope=\"scope\">\r\n                <el-select v-model=\"scope.row.htmlType\">\r\n                  <el-option label=\"文本框\" value=\"input\" />\r\n                  <el-option label=\"文本域\" value=\"textarea\" />\r\n                  <el-option label=\"下拉框\" value=\"select\" />\r\n                  <el-option label=\"单选框\" value=\"radio\" />\r\n                  <el-option label=\"复选框\" value=\"checkbox\" />\r\n                  <el-option label=\"日期控件\" value=\"datetime\" />\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"生成信息\" name=\"genInfo\">\r\n          <gen-info-form ref=\"genInfo\" :info=\"info\" />\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-card>\r\n      <el-form label-width=\"100px\">\r\n        <el-form-item style=\"text-align: center;margin-left:-100px;margin-top:10px;\">\r\n          <el-button\r\n                    :loading=\"submitLoading\"\r\n                    @click=\"submitForm()\"\r\n                    type=\"primary\"\r\n                    size=\"medium\"\r\n            >确定提交\r\n            </el-button>\r\n          <el-button @click=\"$emit('returnBack')\" size=\"medium\">返回</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\n  import basicInfoForm from \"./basicInfoForm\";\r\n  import genInfoForm from \"./genInfoForm\";\r\n\r\n  export default {\r\n    name: \"GenEdit\",\r\n    data() {\r\n      return {\r\n        tableLoading: false,\r\n        submitLoading: false,\r\n        // 选中选项卡的 name\r\n        activeName: \"cloum\",\r\n        // 表格的高度\r\n        tableHeight: document.documentElement.scrollHeight - 180 + \"px\",\r\n        // 表列信息\r\n        cloumns: [],\r\n        // 字典信息\r\n        dictOptions: [],\r\n        // 表详细信息\r\n        info: {},\r\n        direction: 'rtl',\r\n      };\r\n    },\r\n    props: {\r\n      visible: {\r\n        type: Boolean,\r\n        default() {\r\n          return false;\r\n        }\r\n      },\r\n      tableId: {\r\n        type: Number,\r\n        default() {\r\n          return 0;\r\n        }\r\n      }\r\n    },\r\n    components: {basicInfoForm,genInfoForm},\r\n    computed: {\r\n    },\r\n    mounted() {\r\n      this.getTableInfo();\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取表详情\r\n       */\r\n      getTableInfo() {\r\n        this.tableLoading = true\r\n        this.$http.get('/gentable/getTableInfo/' + this.tableId)\r\n        .then(res => {\r\n          this.cloumns = res.data.data.records;\r\n          this.info = res.data.data.info;\r\n          this.tableLoading = false;\r\n        }).catch(e => {\r\n          this.cloumns = [];\r\n          this.info = {};\r\n          this.tableLoading = false;\r\n          this.$message.error(e.message);\r\n        });\r\n      },\r\n\r\n      /**\r\n       * 提交表单\r\n       */\r\n      submitForm() {\r\n        this.submitLoading = true;\r\n        const basicForm = this.$refs.basicInfo.$refs.basicInfoForm;\r\n        const genForm = this.$refs.genInfo.$refs.genInfoForm;\r\n        Promise.all([basicForm, genForm].map(this.getFormPromise)).then(res => {\r\n          const validateResult = res.every(item => !!item);\r\n          if (validateResult) {\r\n            const genTable = Object.assign({}, basicForm.model, genForm.model);\r\n            genTable.columns = this.cloumns;\r\n            genTable.params = {\r\n              treeCode: genTable.treeCode,\r\n              treeName: genTable.treeName,\r\n              treeParentCode: genTable.treeParentCode\r\n            };\r\n            // 更新业务表\r\n            this.$http.put('/gentable/updateGenTable',genTable).then(res => {\r\n              this.$message({\r\n                  message: res.data.msg,\r\n                  type: \"success\"\r\n              });\r\n              this.submitLoading = false;\r\n              this.$emit(\"returnBack\");\r\n            })\r\n            .catch(e => {\r\n              this.submitLoading = false;\r\n              this.$message.error(e.message);\r\n            })\r\n          } else {\r\n            this.submitLoading = false;\r\n            this.$message.error(\"业务表更新失败\");\r\n          }\r\n        });\r\n      },\r\n      getFormPromise(form) {\r\n        return new Promise(resolve => {\r\n          form.validate(res => {\r\n            resolve(res);\r\n          });\r\n        });\r\n      },\r\n      /**\r\n       * 关闭页面\r\n       */\r\n      handleClose(hide) {\r\n        if (hide) {\r\n          hide();\r\n        }\r\n        this.$emit(\"returnBack\");\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n/* 选项卡 */\r\n.demo-icon-tabs >>> .el-tabs__nav-scroll {\r\n  padding: 0 20px;\r\n}\r\n\r\n.demo-icon-tabs >>> .el-tabs__item {\r\n  height: 45px;\r\n  line-height: 45px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/generator/gentable"}]}