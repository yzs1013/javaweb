{"remainingRequest":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebVue\\javaweb-ui\\src\\views\\common\\layout\\Sidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebVue\\javaweb-ui\\src\\views\\common\\layout\\Sidebar.vue","mtime":1616225472000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgRWxlU2lkZWJhckl0ZW0gZnJvbSAnLi9TaWRlYmFySXRlbScNCmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJFbGVTaWRlYmFyIiwNCiAgY29tcG9uZW50czoge0VsZVNpZGViYXJJdGVtfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYWN0aXZlTm86IGZhbHNlICAvLyDnlKjkuo7op6blj5FhY3RpdmXmm7TmlrANCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC8qIOiPnOWNleaVsOaNriAqLw0KICAgIG1lbnVzKCkgew0KICAgICAgbGV0IHVzZU1lbnUgPSB0aGlzLnVzZXIubWVudXMgJiYgdGhpcy51c2VyLm1lbnVzLmxlbmd0aDsNCiAgICAgIGxldCBtZW51cyA9IHVzZU1lbnUgPyB0aGlzLnVzZXIubWVudXMgOiB0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMuZmlsdGVyKGQgPT4gIWQubWV0YSB8fCAhZC5tZXRhLmhpZGUpOw0KICAgICAgaWYgKHRoaXMudGhlbWUubGF5b3V0U3R5bGUgPT09IDIgJiYgdGhpcy50aGVtZS5zY3JlZW5XaWR0aCA+PSA3NjgpIHsgIC8vIOWwj+Wxj+W5leW8uuWItuW3puS+p+iPnOWNleaooeW8jw0KICAgICAgICBsZXQgZGF0YSA9IG1lbnVzW3RoaXMudGhlbWUubmF2QWN0aXZlIHx8IDBdOw0KICAgICAgICByZXR1cm4gZGF0YSA/IChkYXRhLmNoaWxkcmVuIHx8IFtdKSA6IFtdOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIG1lbnVzOw0KICAgIH0sDQogICAgLyog5piv5ZCm5oqY5Y+gbWVudSAqLw0KICAgIGNvbGxhcHNlKCkgew0KICAgICAgcmV0dXJuIHRoaXMudGhlbWUuc2NyZWVuV2lkdGggPCA3NjggPyBmYWxzZSA6IHRoaXMudGhlbWUuY29sbGFwc2U7ICAvLyDlsI/lsY/luZXlvLrliLbkuI3mipjlj6ANCiAgICB9LA0KICAgIC8qIOS+p+i+ueagj+mAieS4rSAqLw0KICAgIGFjdGl2ZSgpIHsNCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5tZXRhICYmIHRoaXMuJHJvdXRlLm1ldGEudWlkKSByZXR1cm4gdGhpcy4kcm91dGUubWV0YS51aWQ7DQogICAgICBpZiAodGhpcy5hY3RpdmVObykgcmV0dXJuICcnOw0KICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGg7DQogICAgfSwNCiAgICAuLi5tYXBHZXR0ZXJzKFsndGhlbWUnLCAndXNlciddKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLyog6I+c5Y2V54K55Ye75LqL5Lu2ICovDQogICAgb25NZW51U2VsZWN0KGluZGV4KSB7DQogICAgICBpZiAoIWluZGV4KSByZXR1cm47DQogICAgICBpZiAoaW5kZXguc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGluZGV4LnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykgfHwgaW5kZXguc3RhcnRzV2l0aCgnLy8nKSkgew0KICAgICAgICB3aW5kb3cub3BlbihpbmRleCk7DQogICAgICAgIHRoaXMuYWN0aXZlTm8gPSB0cnVlOw0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgdGhpcy5hY3RpdmVObyA9IGZhbHNlOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgbGV0IHBhdGggPSB0aGlzLiRyb3V0ZS5mdWxsUGF0aDsNCiAgICAgIGxldCBwYXJlbnQgPSB0aGlzLiRyb3V0ZS5tYXRjaGVkW3RoaXMuJHJvdXRlLm1hdGNoZWQubGVuZ3RoIC0gMl07DQogICAgICBpZiAoKHBhcmVudCAmJiBwYXJlbnQucmVkaXJlY3QgPT09IHBhdGggJiYgcGFyZW50LnBhdGggPT09IGluZGV4KSB8fCBwYXRoID09PSBpbmRleCkgdGhpcy5yZWZyZXNoKCk7DQogICAgICBlbHNlIHRoaXMuJHJvdXRlci5wdXNoKGluZGV4KTsNCiAgICB9LA0KICAgIC8qIOWIt+aWsCAqLw0KICAgIHJlZnJlc2goKSB7DQogICAgICBpZiAodGhpcy50aGVtZS5yZWxvYWQpIHJldHVybjsNCiAgICAgIE5Qcm9ncmVzcy5zdGFydCgpOw0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RoZW1lL3RvZ2dsZScsICdyZWxvYWQnKTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RoZW1lL3RvZ2dsZScsICdyZWxvYWQnKTsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgTlByb2dyZXNzLmRvbmUoKTsNCiAgICAgICAgfSwgMTUwKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyog6I635Y+W6Lev5b6ELCDlpJrns7vnu5/mqKHlvI/ltYzlpZfot6/nlLHliqDniLbot6/lvoQgKi8NCiAgICBnZXRQYXRoKHVybCkgew0KICAgICAgaWYgKCEodGhpcy50aGVtZS5sYXlvdXRTdHlsZSA9PT0gMiAmJiB0aGlzLnRoZW1lLnNjcmVlbldpZHRoID49IDc2OCkpIHJldHVybiB1cmwgfHwgJyc7DQogICAgICBpZiAodXJsICYmICh1cmwuaW5kZXhPZignLycpID09PSAwIHx8IHVybC5pbmRleE9mKCdodHRwJykgPT09IDApKSByZXR1cm4gdXJsOw0KICAgICAgbGV0IHVzZU1lbnUgPSB0aGlzLnVzZXIubWVudXMgJiYgdGhpcy51c2VyLm1lbnVzLmxlbmd0aDsNCiAgICAgIGxldCBtZW51cyA9IHVzZU1lbnUgPyB0aGlzLnVzZXIubWVudXMgOiB0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMuZmlsdGVyKGQgPT4gIWQubWV0YSB8fCAhZC5tZXRhLmhpZGUpOw0KICAgICAgbGV0IHBhdGggPSBtZW51c1t0aGlzLnRoZW1lLm5hdkFjdGl2ZSB8fCAwXS5wYXRoOw0KICAgICAgaWYgKHBhdGggJiYgdHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7DQogICAgICAgIGlmIChwYXRoLmxhc3RJbmRleE9mKCcvJykgPT09IChwYXRoLmxlbmd0aCAtIDEpKSByZXR1cm4gcGF0aCArICh1cmwgfHwgJycpOw0KICAgICAgICBlbHNlIHJldHVybiBwYXRoICsgJy8nICsgKHVybCB8fCAnJyk7DQogICAgICB9DQogICAgICByZXR1cm4gdXJsIHx8ICcnOw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Sidebar.vue","sourceRoot":"src/views/common/layout","sourcesContent":["<!-- 侧边栏 -->\r\n<template>\r\n  <el-aside class=\"ele-admin-sidebar ele-scrollbar-hide\">\r\n    <el-menu :collapse=\"collapse\" :default-active=\"active\" @select=\"onMenuSelect\" :collapse-transition=\"false\"\r\n             :class=\"{'ele-menu-dark':theme.sideStyle===1}\" :unique-opened=\"theme.sideUniqueOpen\">\r\n      <template v-for=\"(menu,index) in menus\">\r\n        <ele-sidebar-item v-if=\"!menu.meta||!menu.meta.hide\" :item=\"menu\" :path=\"getPath(menu.path)||index\"\r\n                          :key=\"menu.path||index\" :pop-class=\"theme.sideStyle===1?'ele-menu-dark':''\"/>\r\n      </template>\r\n    </el-menu>\r\n  </el-aside>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from 'vuex'\r\nimport EleSidebarItem from './SidebarItem'\r\nimport NProgress from 'nprogress'\r\n\r\nexport default {\r\n  name: \"EleSidebar\",\r\n  components: {EleSidebarItem},\r\n  data() {\r\n    return {\r\n      activeNo: false  // 用于触发active更新\r\n    };\r\n  },\r\n  computed: {\r\n    /* 菜单数据 */\r\n    menus() {\r\n      let useMenu = this.user.menus && this.user.menus.length;\r\n      let menus = useMenu ? this.user.menus : this.$router.options.routes.filter(d => !d.meta || !d.meta.hide);\r\n      if (this.theme.layoutStyle === 2 && this.theme.screenWidth >= 768) {  // 小屏幕强制左侧菜单模式\r\n        let data = menus[this.theme.navActive || 0];\r\n        return data ? (data.children || []) : [];\r\n      }\r\n      return menus;\r\n    },\r\n    /* 是否折叠menu */\r\n    collapse() {\r\n      return this.theme.screenWidth < 768 ? false : this.theme.collapse;  // 小屏幕强制不折叠\r\n    },\r\n    /* 侧边栏选中 */\r\n    active() {\r\n      if (this.$route.meta && this.$route.meta.uid) return this.$route.meta.uid;\r\n      if (this.activeNo) return '';\r\n      return this.$route.path;\r\n    },\r\n    ...mapGetters(['theme', 'user'])\r\n  },\r\n  methods: {\r\n    /* 菜单点击事件 */\r\n    onMenuSelect(index) {\r\n      if (!index) return;\r\n      if (index.startsWith('http://') || index.startsWith('https://') || index.startsWith('//')) {\r\n        window.open(index);\r\n        this.activeNo = true;\r\n        this.$nextTick(() => {\r\n          this.activeNo = false;\r\n        });\r\n        return;\r\n      }\r\n      let path = this.$route.fullPath;\r\n      let parent = this.$route.matched[this.$route.matched.length - 2];\r\n      if ((parent && parent.redirect === path && parent.path === index) || path === index) this.refresh();\r\n      else this.$router.push(index);\r\n    },\r\n    /* 刷新 */\r\n    refresh() {\r\n      if (this.theme.reload) return;\r\n      NProgress.start();\r\n      this.$store.dispatch('theme/toggle', 'reload');\r\n      this.$nextTick(() => {\r\n        this.$store.dispatch('theme/toggle', 'reload');\r\n        setTimeout(() => {\r\n          NProgress.done();\r\n        }, 150);\r\n      });\r\n    },\r\n    /* 获取路径, 多系统模式嵌套路由加父路径 */\r\n    getPath(url) {\r\n      if (!(this.theme.layoutStyle === 2 && this.theme.screenWidth >= 768)) return url || '';\r\n      if (url && (url.indexOf('/') === 0 || url.indexOf('http') === 0)) return url;\r\n      let useMenu = this.user.menus && this.user.menus.length;\r\n      let menus = useMenu ? this.user.menus : this.$router.options.routes.filter(d => !d.meta || !d.meta.hide);\r\n      let path = menus[this.theme.navActive || 0].path;\r\n      if (path && typeof path === 'string') {\r\n        if (path.lastIndexOf('/') === (path.length - 1)) return path + (url || '');\r\n        else return path + '/' + (url || '');\r\n      }\r\n      return url || '';\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}