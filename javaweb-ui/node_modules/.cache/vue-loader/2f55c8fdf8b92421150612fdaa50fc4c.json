{"remainingRequest":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebVue\\javaweb-ui\\src\\views\\system\\layout\\editForm.vue?vue&type=style&index=0&id=4aad9f26&scoped=true&lang=css&","dependencies":[{"path":"D:\\JavaWebVue\\javaweb-ui\\src\\views\\system\\layout\\editForm.vue","mtime":1616124094000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovKiDpgInpobnljaEgKi8NCi5kZW1vLWljb24tdGFicyA+Pj4gLmVsLXRhYnNfX25hdi1zY3JvbGwgew0KICBwYWRkaW5nOiAwIDIwcHg7DQp9DQoNCi5kZW1vLWljb24tdGFicyA+Pj4gLmVsLXRhYnNfX2l0ZW0gew0KICBoZWlnaHQ6IDQ1cHg7DQogIGxpbmUtaGVpZ2h0OiA0NXB4Ow0KfQ0K"},{"version":3,"sources":["editForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"editForm.vue","sourceRoot":"src/views/system/layout","sourcesContent":["<template>\r\n  <el-drawer\r\n    class=\"edit-table\"\r\n    title=\"编辑布局\"\r\n    :visible.sync=\"visible\"\r\n    :direction=\"direction\"\r\n    :size=\"'calc(100vw - 256px)'\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-form :model=\"editForm\" ref=\"editForm\" :rules=\"editRules\" label-width=\"150px\" style=\"margin:10px auto;\">\r\n      <el-form-item label=\"布局图片：\">\r\n        <uploadImage :limit=\"1\" :updDir=\"updDir\" v-model=\"editForm.image\"></uploadImage>\r\n      </el-form-item>\r\n      <el-row :gutter=\"15\">\r\n        <el-col :sm=\"12\">\r\n          <el-form-item label=\"布局位置描述：\" prop=\"locDesc\">\r\n            <el-input v-model=\"editForm.locDesc\" placeholder=\"请输入布局位置描述\" clearable/>\r\n          </el-form-item>\r\n          <el-form-item label=\"所属站点：\" prop=\"itemId\" :rules=\"{\r\n                  required: true, message: '所属站点不能为空', trigger: 'change'\r\n                }\">\r\n            <el-select filterable clearable v-model=\"editForm.itemId\" size=\"small\" placeholder=\"-请选择所属站点-\" class=\"ele-block\">\r\n              <el-option v-for=\"item in itemList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"布局类型：\" prop=\"type\">\r\n            <el-select v-model=\"editForm.type\" placeholder=\"请选择布局类型：\" class=\"ele-block\" clearable>\r\n              <el-option label=\"CMS文章\" :value=\"1\"/>\r\n              <el-option label=\"通知公告\" :value=\"2\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :sm=\"12\">\r\n          <el-form-item label=\"布局描述位置：\" prop=\"locId\">\r\n            <el-input v-model=\"editForm.locId\" placeholder=\"请输入布局描述位置\" clearable/>\r\n          </el-form-item>\r\n          <el-form-item label=\"排序号：\" prop=\"sort\">\r\n            <el-input-number v-model=\"editForm.sort\" controls-position=\"right\" :min=\"0\"\r\n                              placeholder=\"请输入排序号\" class=\"ele-fluid ele-text-left\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"布局内容：\" prop=\"typeId\">\r\n            <el-input v-model=\"editForm.typeId\" placeholder=\"请选择布局内容\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-form-item style=\"text-align: center;margin-left:-100px;margin-top:10px;\">\r\n        <el-button @click=\"save\" type=\"primary\" size=\"medium\">保存 </el-button>\r\n        <el-button @click=\"$emit('returnBack')\" size=\"medium\">返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\n  import uploadImage from '@/components/uploadImage'\r\n\r\n  export default {\r\n    name: \"LayoutEdit\",\r\n    components: {uploadImage},\r\n    data() {\r\n      return {\r\n        direction: 'rtl',\r\n        editForm: {},  // 表单数据\r\n        editRules: {  // 表单验证规则\r\n          locDesc: [\r\n            {required: true, message: '请输入布局位置描述', trigger: 'blur'}\r\n          ],\r\n          locId: [\r\n            {required: true, message: '请选择所属布局位置', trigger: 'blur'}\r\n          ],\r\n          itemId: [\r\n            {required: true, message: '请选择所属站点', trigger: 'blur'}\r\n          ],\r\n          type: [\r\n            {required: true, message: '请选择布局类型', trigger: 'blur'}\r\n          ],\r\n          typeId: [\r\n            {required: true, message: '请选择布局内容', trigger: 'blur'}\r\n          ],\r\n          sort: [\r\n            {required: true, message: '请输入排序', trigger: 'blur'}\r\n          ],\r\n        },\r\n        updDir: 'layout',\r\n      };\r\n    },\r\n    props: {\r\n      visible: {\r\n        type: Boolean,\r\n        default() {\r\n          return false;\r\n        }\r\n      },\r\n      layoutId: {\r\n        type: Number,\r\n        default() {\r\n          return 0;\r\n        }\r\n      },\r\n      // 接收站点\r\n      itemList:{\r\n        type:Array,\r\n        default(){\r\n          return []\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n    },\r\n    mounted() {\r\n      this.getLayoutInfo();\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取布局详情\r\n       */\r\n      getLayoutInfo(){\r\n        this.$http.get('/layout/info/' + this.layoutId).then(res => {\r\n          if (res.data.code === 0) {\r\n            this.editForm = res.data.data;\r\n          } else {\r\n            this.$message.error(res.data.msg);\r\n          }\r\n        }).catch(e => {\r\n          this.$message.error(e.message);\r\n        });\r\n      },\r\n      /* 保存编辑 */\r\n      save() {\r\n        this.$refs['editForm'].validate((valid) => {\r\n          if (valid) {\r\n            const loading = this.$loading({lock: true});\r\n            this.$http[this.editForm.id ? 'put' : 'post'](this.editForm.id ? '/layout/edit' : '/layout/add', this.editForm).then(res => {\r\n              loading.close();\r\n              if (res.data.code === 0) {\r\n                this.$message({type: 'success', message: res.data.msg});\r\n                this.$emit('reload')\r\n              } else {\r\n                this.$message.error(res.data.msg);\r\n              }\r\n            }).catch(e => {\r\n              loading.close();\r\n              this.$message.error(e.message);\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      /**\r\n       * 关闭页面\r\n       */\r\n      handleClose(hide) {\r\n        if (hide) {\r\n          hide();\r\n        }\r\n        this.$emit(\"returnBack\");\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n/* 选项卡 */\r\n.demo-icon-tabs >>> .el-tabs__nav-scroll {\r\n  padding: 0 20px;\r\n}\r\n\r\n.demo-icon-tabs >>> .el-tabs__item {\r\n  height: 45px;\r\n  line-height: 45px;\r\n}\r\n</style>\r\n"]}]}