{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1ccd06ee\",\"chunk-2d0cc482\"],{\"4ceb\":function(e,t,l){\"use strict\";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",{staticClass:\"dict-data-page\"},[l(\"el-form\",{staticClass:\"ele-form-search ele-table-tool-default\",attrs:{model:e.table.where,size:\"small\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.$refs.table.reload()},submit:function(e){e.preventDefault()}}},[l(\"el-row\",{attrs:{gutter:15}},[l(\"el-col\",{attrs:{md:6,sm:12}},[l(\"el-form-item\",[l(\"el-input\",{attrs:{placeholder:\"请输入配置标题\",clearable:\"\",size:\"small\"},model:{value:e.table.where.title,callback:function(t){e.$set(e.table.where,\"title\",t)},expression:\"table.where.title\"}})],1)],1),l(\"el-col\",{attrs:{md:12,sm:12}},[l(\"div\",{staticClass:\"ele-form-actions\"},[l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"small\"},on:{click:function(t){return e.$refs.table.reload()}}},[e._v(\"查询 \")]),e.permission.includes(\"sys:config:add\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"primary\",icon:\"el-icon-plus\",size:\"small\"},on:{click:function(t){e.showEdit=!0}}},[e._v(\"添加配置项 \")]):e._e(),e.permission.includes(\"sys:config:dall\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"danger\",icon:\"el-icon-delete\",size:\"small\"},on:{click:function(t){return e.remove()}}},[e._v(\"批量删除 \")]):e._e()],1)])],1)],1),l(\"ele-data-table\",{ref:\"table\",attrs:{config:e.table,choose:e.choose,height:e.tbHeight,\"highlight-current-row\":\"\"},on:{\"update:choose\":function(t){e.choose=t}}},[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"45\",align:\"center\"}}),l(\"el-table-column\",{attrs:{type:\"index\",index:e.index,label:\"编号\",width:\"60\",align:\"center\",fixed:\"left\",\"show-overflow-tooltip\":\"\"}}),l(\"el-table-column\",{attrs:{prop:\"title\",label:\"配置标题\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"120\"}}),l(\"el-table-column\",{attrs:{prop:\"code\",label:\"配置编码\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),l(\"el-table-column\",{attrs:{prop:\"value\",label:\"配置值\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"}}),l(\"el-table-column\",{attrs:{label:\"配置类型\",\"min-width\":\"100\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[\"readonly\"===a.type?l(\"el-tag\",{attrs:{type:\"\",size:\"small\"}},[e._v(\"只读文本\")]):e._e(),\"number\"===a.type?l(\"el-tag\",{attrs:{type:\"success\",size:\"small\"}},[e._v(\"数字\")]):e._e(),\"text\"===a.type?l(\"el-tag\",{attrs:{type:\"info\",size:\"small\"}},[e._v(\"单行文本\")]):e._e(),\"textarea\"===a.type?l(\"el-tag\",{attrs:{type:\"warning\",size:\"small\"}},[e._v(\"多行文本\")]):e._e(),\"array\"===a.type?l(\"el-tag\",{attrs:{type:\"danger\",size:\"small\"}},[e._v(\"数组\")]):e._e(),\"password\"===a.type?l(\"el-tag\",{attrs:{type:\"\",size:\"small\"}},[e._v(\"密码\")]):e._e(),\"radio\"===a.type?l(\"el-tag\",{attrs:{type:\"success\",size:\"small\"}},[e._v(\"单选框\")]):e._e(),\"checkbox\"===a.type?l(\"el-tag\",{attrs:{type:\"info\",size:\"small\"}},[e._v(\"复选框\")]):e._e(),\"select\"===a.type?l(\"el-tag\",{attrs:{type:\"warning\",size:\"small\"}},[e._v(\"下拉框\")]):e._e(),\"icon\"===a.type?l(\"el-tag\",{attrs:{type:\"danger\",size:\"small\"}},[e._v(\"字体图标\")]):e._e(),\"date\"===a.type?l(\"el-tag\",{attrs:{type:\"\",size:\"small\"}},[e._v(\"日期\")]):e._e(),\"datetime\"===a.type?l(\"el-tag\",{attrs:{type:\"success\",size:\"small\"}},[e._v(\"时间\")]):e._e(),\"image\"===a.type?l(\"el-tag\",{attrs:{type:\"info\",size:\"small\"}},[e._v(\"单张图片\")]):e._e(),\"images\"===a.type?l(\"el-tag\",{attrs:{type:\"\",size:\"small\"}},[e._v(\"多张图片\")]):e._e(),\"file\"===a.type?l(\"el-tag\",{attrs:{type:\"success\",size:\"small\"}},[e._v(\"单个文件\")]):e._e(),\"files\"===a.type?l(\"el-tag\",{attrs:{type:\"warning\",size:\"small\"}},[e._v(\"多个文件\")]):e._e(),\"ueditor\"===a.type?l(\"el-tag\",{attrs:{type:\"danger\",size:\"small\"}},[e._v(\"富文本编辑器\")]):e._e()]}}])}),l(\"el-table-column\",{attrs:{prop:\"status\",label:\"配置状态\",sortable:\"custom\",resizable:!1,\"min-width\":\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[l(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":2},on:{change:function(t){return e.editStatus(a)}},model:{value:a.status,callback:function(t){e.$set(a,\"status\",t)},expression:\"row.status\"}})]}}])}),l(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序号\",sortable:\"custom\",width:\"90px\"}}),l(\"el-table-column\",{attrs:{prop:\"note\",label:\"备注\",\"min-width\":\"200px\"}}),l(\"el-table-column\",{attrs:{label:\"创建时间\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"110\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var l=t.row;return[e._v(e._s(e._f(\"toDateString\")(l.createTime)))]}}])}),l(\"el-table-column\",{attrs:{label:\"操作\",width:\"130px\",align:\"center\",resizable:!1,fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.row;return[e.permission.includes(\"sys:config:edit\")?l(\"el-link\",{attrs:{icon:\"el-icon-edit\",type:\"primary\",underline:!1},on:{click:function(t){return e.edit(a)}}},[e._v(\"修改 \")]):e._e(),l(\"el-popconfirm\",{staticClass:\"ele-action\",attrs:{title:\"确定要删除此配置吗？\"},on:{confirm:function(t){return e.remove(a)}}},[e.permission.includes(\"sys:config:delete\")?l(\"el-link\",{attrs:{slot:\"reference\",icon:\"el-icon-delete\",type:\"danger\",underline:!1},slot:\"reference\"},[e._v(\"删除 \")]):e._e()],1)]}}])})],1),l(\"el-dialog\",{attrs:{title:e.editForm.id?\"修改配置\":\"添加配置\",visible:e.showEdit,width:\"600px\",\"destroy-on-close\":!0,\"custom-class\":\"ele-dialog-form\",\"lock-scroll\":!1},on:{\"update:visible\":function(t){e.showEdit=t},closed:function(t){e.editForm={}}}},[l(\"el-form\",{ref:\"editForm\",attrs:{model:e.editForm,rules:e.editRules,\"label-width\":\"96px\"}},[l(\"el-row\",{attrs:{gutter:15}},[l(\"el-col\",{attrs:{sm:12}},[l(\"el-form-item\",{attrs:{label:\"配置标题:\",prop:\"title\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入配置标题\",clearable:\"\"},model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,\"title\",t)},expression:\"editForm.title\"}})],1),l(\"el-form-item\",{attrs:{label:\"配置类型:\",prop:\"type\"}},[l(\"el-select\",{staticClass:\"ele-block\",attrs:{placeholder:\"请选择配置类型\",clearable:\"\"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,\"type\",t)},expression:\"editForm.type\"}},[l(\"el-option\",{attrs:{label:\"只读文本\",value:\"readonly\"}}),l(\"el-option\",{attrs:{label:\"数字\",value:\"number\"}}),l(\"el-option\",{attrs:{label:\"单行文本\",value:\"text\"}}),l(\"el-option\",{attrs:{label:\"多行文本\",value:\"textarea\"}}),l(\"el-option\",{attrs:{label:\"数组\",value:\"array\"}}),l(\"el-option\",{attrs:{label:\"密码\",value:\"password\"}}),l(\"el-option\",{attrs:{label:\"单选框\",value:\"radio\"}}),l(\"el-option\",{attrs:{label:\"复选框\",value:\"checkbox\"}}),l(\"el-option\",{attrs:{label:\"下拉框\",value:\"select\"}}),l(\"el-option\",{attrs:{label:\"字体图标\",value:\"icon\"}}),l(\"el-option\",{attrs:{label:\"日期\",value:\"date\"}}),l(\"el-option\",{attrs:{label:\"时间\",value:\"datetime\"}}),l(\"el-option\",{attrs:{label:\"单张图片\",value:\"image\"}}),l(\"el-option\",{attrs:{label:\"多张图片\",value:\"images\"}}),l(\"el-option\",{attrs:{label:\"单个文件\",value:\"file\"}}),l(\"el-option\",{attrs:{label:\"多个文件\",value:\"files\"}}),l(\"el-option\",{attrs:{label:\"富文本编辑器\",value:\"ueditor\"}})],1)],1),l(\"el-form-item\",{attrs:{label:\"配置值:\",prop:\"value\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入配置值\",clearable:\"\"},model:{value:e.editForm.value,callback:function(t){e.$set(e.editForm,\"value\",t)},expression:\"editForm.value\"}})],1)],1),l(\"el-col\",{attrs:{sm:12}},[l(\"el-form-item\",{attrs:{label:\"配置编码:\",prop:\"code\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入配置编码\",clearable:\"\"},model:{value:e.editForm.code,callback:function(t){e.$set(e.editForm,\"code\",t)},expression:\"editForm.code\"}})],1),l(\"el-form-item\",{attrs:{label:\"状态:\"}},[l(\"el-radio-group\",{model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,\"status\",t)},expression:\"editForm.status\"}},[l(\"el-radio\",{attrs:{label:1}},[e._v(\"正常\")]),l(\"el-radio\",{attrs:{label:2}},[e._v(\"禁用\")])],1)],1),l(\"el-form-item\",{attrs:{label:\"排序号:\",prop:\"sort\"}},[l(\"el-input-number\",{staticClass:\"ele-fluid ele-text-left\",attrs:{\"controls-position\":\"right\",min:0,placeholder:\"请输入排序号\"},model:{value:e.editForm.sort,callback:function(t){e.$set(e.editForm,\"sort\",t)},expression:\"editForm.sort\"}})],1)],1)],1),l(\"el-form-item\",{attrs:{label:\"配置项:\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入配置项\",rows:3,type:\"textarea\"},model:{value:e.editForm.options,callback:function(t){e.$set(e.editForm,\"options\",t)},expression:\"editForm.options\"}})],1),l(\"el-form-item\",{attrs:{label:\"备注:\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入备注\",rows:3,type:\"textarea\"},model:{value:e.editForm.note,callback:function(t){e.$set(e.editForm,\"note\",t)},expression:\"editForm.note\"}})],1)],1),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"el-button\",{on:{click:function(t){e.showEdit=!1}}},[e._v(\"取消\")]),l(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"保存\")])],1)],1)],1)},s=[],o=(l(\"d81d\"),l(\"a9e3\"),l(\"5530\")),i=l(\"2f62\"),r={name:\"SysConfigData\",props:{configId:Number,tbHeight:String},data:function(){return{table:{url:\"/configdata/index\",where:{configId:this.configId},page:!0},choose:[],showEdit:!1,editForm:{},editRules:{title:[{required:!0,message:\"请输入配置标题\",trigger:\"blur\"}],code:[{required:!0,message:\"请输入配置编码\",trigger:\"blur\"}],sort:[{required:!0,message:\"请输入排序号\",trigger:\"blur\"}]}}},computed:Object(o[\"a\"])({},Object(i[\"b\"])([\"permission\"])),methods:{edit:function(e){this.editForm=Object.assign({},e),this.showEdit=!0},save:function(){var e=this;this.$refs[\"editForm\"].validate((function(t){if(!t)return!1;var l=e.$loading({lock:!0});e.editForm=Object.assign({},e.editForm,{configId:e.configId}),e.$http[e.editForm.id?\"put\":\"post\"](e.editForm.id?\"/configdata/edit\":\"/configdata/add\",e.editForm).then((function(t){l.close(),0===t.data.code?(e.showEdit=!1,e.$message({type:\"success\",message:t.data.msg}),e.$refs.table.reload()):e.$message.error(t.data.msg)})).catch((function(t){l.close(),e.$message.error(t.message)}))}))},remove:function(e){var t=this;if(e){var l=this.$loading({lock:!0});this.$http.delete(\"/configdata/delete/\"+[e.id]).then((function(e){l.close(),0===e.data.code?(t.$message({type:\"success\",message:e.data.msg}),t.$refs.table.reload()):t.$message.error(e.data.msg)})).catch((function(e){l.close(),t.$message.error(e.message)}))}else{if(0===this.choose.length)return this.$message.error(\"请至少选择一条数据\");var a=this.choose.map((function(e){return e.id}));this.$confirm(\"确定要删除选中的配置吗?\",\"提示\",{type:\"warning\"}).then((function(){var e=t.$loading({lock:!0});t.$http.delete(\"/configdata/delete/\"+a).then((function(l){e.close(),0===l.data.code?(t.$message({type:\"success\",message:l.data.msg}),t.$refs.table.reload()):t.$message.error(l.data.msg)})).catch((function(l){e.close(),t.$message.error(l.message)}))})).catch((function(){return 0}))}},editStatus:function(e){var t=this,l=this.$loading({lock:!0}),a=Object.assign({},e);this.$http.put(\"/configdata/status\",a).then((function(a){l.close(),0===a.data.code?t.$message({type:\"success\",message:a.data.msg}):(e.status=e.status?1:2,t.$message.error(a.data.msg))})).catch((function(e){l.close(),t.$message.error(e.message)}))}},watch:{configId:function(){this.table.where={configId:this.configId},this.$refs.table.reload()}}},n=r,c=l(\"0c7c\"),d=Object(c[\"a\"])(n,a,s,!1,null,\"9c5191c2\",null);t[\"default\"]=d.exports},5752:function(e,t,l){\"use strict\";l(\"92da\")},\"92da\":function(e,t,l){},cdb7:function(e,t,l){\"use strict\";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",{staticClass:\"ele-body\"},[l(\"el-card\",{attrs:{shadow:\"never\",\"body-style\":\"padding-bottom:0;\"}},[l(\"el-row\",{attrs:{gutter:15}},[l(\"el-col\",{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{md:6}},[l(\"div\",{staticClass:\"ele-table-tool ele-table-tool-default\"},[e.permission.includes(\"sys:config:add\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"primary\",icon:\"el-icon-plus\",size:\"small\"},on:{click:function(t){e.showEdit=!0}}},[e._v(\"添加 \")]):e._e(),e.permission.includes(\"sys:config:edit\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"warning\",icon:\"el-icon-edit\",disabled:!e.current,size:\"small\"},on:{click:e.edit}},[e._v(\"修改 \")]):e._e(),e.permission.includes(\"sys:config:delete\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"danger\",icon:\"el-icon-delete\",disabled:!e.current,size:\"small\"},on:{click:e.remove}},[e._v(\"删除 \")]):e._e()],1),l(\"ele-data-table\",{ref:\"table\",staticClass:\"dict-table\",attrs:{config:e.table,current:e.current,choose:[],\"highlight-current-row\":\"\",height:e.tbHeight},on:{\"update:current\":function(t){e.current=t},done:e.done}},[l(\"el-table-column\",{attrs:{type:\"index\",label:\"编号\",width:\"60\",align:\"center\"}}),l(\"el-table-column\",{attrs:{prop:\"name\",label:\"配置分组\",\"show-overflow-tooltip\":\"\",\"min-width\":\"200\"}}),l(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序\",sortable:\"custom\",\"show-overflow-tooltip\":\"\"}})],1)],1),l(\"el-col\",{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{md:18}},[e.current?l(\"config-data\",{attrs:{\"config-id\":e.current.id,\"tb-height\":e.tbHeight}}):e._e()],1)],1)],1),l(\"el-dialog\",{attrs:{title:e.editForm.id?\"修改配置分组\":\"添加配置分组\",visible:e.showEdit,width:\"400px\",\"destroy-on-close\":!0,\"lock-scroll\":!1},on:{\"update:visible\":function(t){e.showEdit=t},closed:function(t){e.editForm={}}}},[l(\"el-form\",{ref:\"editForm\",attrs:{model:e.editForm,rules:e.editRules,\"label-width\":\"82px\"}},[l(\"el-form-item\",{attrs:{label:\"分组名称:\",prop:\"name\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入配置分组名称\",clearable:\"\"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,\"name\",t)},expression:\"editForm.name\"}})],1),l(\"el-form-item\",{attrs:{label:\"排序号:\",prop:\"sort\"}},[l(\"el-input-number\",{staticClass:\"ele-fluid ele-text-left\",attrs:{\"controls-position\":\"right\",min:0,placeholder:\"请输入排序号\"},model:{value:e.editForm.sort,callback:function(t){e.$set(e.editForm,\"sort\",t)},expression:\"editForm.sort\"}})],1)],1),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"el-button\",{on:{click:function(t){e.showEdit=!1}}},[e._v(\"取消\")]),l(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"保存\")])],1)],1)],1)},s=[],o=l(\"5530\"),i=l(\"4ceb\"),r=l(\"2f62\"),n={name:\"SysConfig\",components:{ConfigData:i[\"default\"]},data:function(){return{table:{url:\"/config/index\",page:!0,where:{}},current:null,showEdit:!1,editForm:{},editRules:{name:[{required:!0,message:\"请输入配置分组名称\",trigger:\"blur\"}],sort:[{required:!0,message:\"请输入排序号\",trigger:\"blur\"}]}}},computed:Object(o[\"a\"])(Object(o[\"a\"])({},Object(r[\"b\"])([\"permission\"])),{},{tbHeight:function(){return this.$store.state.theme.screenWidth<992?void 0:\"calc(100vh - 265px)\"}}),methods:{done:function(e){e.data.records.length>0&&this.$refs.table.setCurrentRow(e.data.records[0])},edit:function(){this.editForm=Object.assign({},this.current),this.showEdit=!0},save:function(){var e=this;this.$refs[\"editForm\"].validate((function(t){if(!t)return!1;var l=e.$loading({lock:!0});e.$http[e.editForm.id?\"put\":\"post\"](e.editForm.id?\"/config/edit\":\"/config/add\",e.editForm).then((function(t){l.close(),0===t.data.code?(e.showEdit=!1,e.$message({type:\"success\",message:t.data.msg}),e.$refs.table.reload()):e.$message.error(t.data.msg)})).catch((function(t){l.close(),e.$message.error(t.message)}))}))},remove:function(){var e=this;this.$confirm(\"确定要删除选中的配置分组吗?\",\"提示\",{type:\"warning\"}).then((function(){var t=e.$loading({lock:!0});e.$http.delete(\"/config/delete/\"+e.current.id).then((function(l){t.close(),0===l.data.code?(e.$message({type:\"success\",message:l.data.msg}),e.$refs.table.reload()):e.$message.error(l.data.msg)})).catch((function(l){t.close(),e.$message.error(l.message)}))})).catch((function(){return 0}))}}},c=n,d=(l(\"5752\"),l(\"0c7c\")),u=Object(d[\"a\"])(c,a,s,!1,null,\"4007e043\",null);t[\"default\"]=u.exports}}]);","extractedComments":[]}