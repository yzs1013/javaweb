{"remainingRequest":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebVue\\javaweb-ui\\src\\views\\system\\layout\\editForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebVue\\javaweb-ui\\src\\views\\system\\layout\\editForm.vue","mtime":1616124094000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHVwbG9hZEltYWdlIGZyb20gJ0AvY29tcG9uZW50cy91cGxvYWRJbWFnZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGF5b3V0RWRpdCIsCiAgY29tcG9uZW50czogewogICAgdXBsb2FkSW1hZ2U6IHVwbG9hZEltYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlyZWN0aW9uOiAncnRsJywKICAgICAgZWRpdEZvcm06IHt9LAogICAgICAvLyDooajljZXmlbDmja4KICAgICAgZWRpdFJ1bGVzOiB7CiAgICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZCiAgICAgICAgbG9jRGVzYzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeW4g+WxgOS9jee9ruaPj+i/sCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBsb2NJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeaJgOWxnuW4g+WxgOS9jee9ricsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBpdGVtSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmiYDlsZ7nq5nngrknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeW4g+WxgOexu+WeiycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB0eXBlSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nluIPlsYDlhoXlrrknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgc29ydDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaOkuW6jycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICB1cGREaXI6ICdsYXlvdXQnCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHZpc2libGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbGF5b3V0SWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwKICAgIC8vIOaOpeaUtuermeeCuQogICAgaXRlbUxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExheW91dEluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog6I635Y+W5biD5bGA6K+m5oOFCiAgICAgKi8KICAgIGdldExheW91dEluZm86IGZ1bmN0aW9uIGdldExheW91dEluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgnL2xheW91dC9pbmZvLycgKyB0aGlzLmxheW91dElkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXMuZWRpdEZvcm0gPSByZXMuZGF0YS5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlLm1lc3NhZ2UpOwogICAgICB9KTsKICAgIH0sCgogICAgLyog5L+d5a2Y57yW6L6RICovCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2VkaXRGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgbG9hZGluZyA9IF90aGlzMi4kbG9hZGluZyh7CiAgICAgICAgICAgIGxvY2s6IHRydWUKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi4kaHR0cFtfdGhpczIuZWRpdEZvcm0uaWQgPyAncHV0JyA6ICdwb3N0J10oX3RoaXMyLmVkaXRGb3JtLmlkID8gJy9sYXlvdXQvZWRpdCcgOiAnL2xheW91dC9hZGQnLCBfdGhpczIuZWRpdEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tc2cKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCdyZWxvYWQnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGUubWVzc2FnZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5YWz6Zet6aG16Z2iCiAgICAgKi8KICAgIGhhbmRsZUNsb3NlOiBmdW5jdGlvbiBoYW5kbGVDbG9zZShoaWRlKSB7CiAgICAgIGlmIChoaWRlKSB7CiAgICAgICAgaGlkZSgpOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCJyZXR1cm5CYWNrIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["editForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-drawer\r\n    class=\"edit-table\"\r\n    title=\"编辑布局\"\r\n    :visible.sync=\"visible\"\r\n    :direction=\"direction\"\r\n    :size=\"'calc(100vw - 256px)'\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-form :model=\"editForm\" ref=\"editForm\" :rules=\"editRules\" label-width=\"150px\" style=\"margin:10px auto;\">\r\n      <el-form-item label=\"布局图片：\">\r\n        <uploadImage :limit=\"1\" :updDir=\"updDir\" v-model=\"editForm.image\"></uploadImage>\r\n      </el-form-item>\r\n      <el-row :gutter=\"15\">\r\n        <el-col :sm=\"12\">\r\n          <el-form-item label=\"布局位置描述：\" prop=\"locDesc\">\r\n            <el-input v-model=\"editForm.locDesc\" placeholder=\"请输入布局位置描述\" clearable/>\r\n          </el-form-item>\r\n          <el-form-item label=\"所属站点：\" prop=\"itemId\" :rules=\"{\r\n                  required: true, message: '所属站点不能为空', trigger: 'change'\r\n                }\">\r\n            <el-select filterable clearable v-model=\"editForm.itemId\" size=\"small\" placeholder=\"-请选择所属站点-\" class=\"ele-block\">\r\n              <el-option v-for=\"item in itemList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"布局类型：\" prop=\"type\">\r\n            <el-select v-model=\"editForm.type\" placeholder=\"请选择布局类型：\" class=\"ele-block\" clearable>\r\n              <el-option label=\"CMS文章\" :value=\"1\"/>\r\n              <el-option label=\"通知公告\" :value=\"2\"/>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :sm=\"12\">\r\n          <el-form-item label=\"布局描述位置：\" prop=\"locId\">\r\n            <el-input v-model=\"editForm.locId\" placeholder=\"请输入布局描述位置\" clearable/>\r\n          </el-form-item>\r\n          <el-form-item label=\"排序号：\" prop=\"sort\">\r\n            <el-input-number v-model=\"editForm.sort\" controls-position=\"right\" :min=\"0\"\r\n                              placeholder=\"请输入排序号\" class=\"ele-fluid ele-text-left\"/>\r\n          </el-form-item>\r\n          <el-form-item label=\"布局内容：\" prop=\"typeId\">\r\n            <el-input v-model=\"editForm.typeId\" placeholder=\"请选择布局内容\" clearable/>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n      <el-form-item style=\"text-align: center;margin-left:-100px;margin-top:10px;\">\r\n        <el-button @click=\"save\" type=\"primary\" size=\"medium\">保存 </el-button>\r\n        <el-button @click=\"$emit('returnBack')\" size=\"medium\">返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\n  import uploadImage from '@/components/uploadImage'\r\n\r\n  export default {\r\n    name: \"LayoutEdit\",\r\n    components: {uploadImage},\r\n    data() {\r\n      return {\r\n        direction: 'rtl',\r\n        editForm: {},  // 表单数据\r\n        editRules: {  // 表单验证规则\r\n          locDesc: [\r\n            {required: true, message: '请输入布局位置描述', trigger: 'blur'}\r\n          ],\r\n          locId: [\r\n            {required: true, message: '请选择所属布局位置', trigger: 'blur'}\r\n          ],\r\n          itemId: [\r\n            {required: true, message: '请选择所属站点', trigger: 'blur'}\r\n          ],\r\n          type: [\r\n            {required: true, message: '请选择布局类型', trigger: 'blur'}\r\n          ],\r\n          typeId: [\r\n            {required: true, message: '请选择布局内容', trigger: 'blur'}\r\n          ],\r\n          sort: [\r\n            {required: true, message: '请输入排序', trigger: 'blur'}\r\n          ],\r\n        },\r\n        updDir: 'layout',\r\n      };\r\n    },\r\n    props: {\r\n      visible: {\r\n        type: Boolean,\r\n        default() {\r\n          return false;\r\n        }\r\n      },\r\n      layoutId: {\r\n        type: Number,\r\n        default() {\r\n          return 0;\r\n        }\r\n      },\r\n      // 接收站点\r\n      itemList:{\r\n        type:Array,\r\n        default(){\r\n          return []\r\n        }\r\n      },\r\n    },\r\n    computed: {\r\n    },\r\n    mounted() {\r\n      this.getLayoutInfo();\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取布局详情\r\n       */\r\n      getLayoutInfo(){\r\n        this.$http.get('/layout/info/' + this.layoutId).then(res => {\r\n          if (res.data.code === 0) {\r\n            this.editForm = res.data.data;\r\n          } else {\r\n            this.$message.error(res.data.msg);\r\n          }\r\n        }).catch(e => {\r\n          this.$message.error(e.message);\r\n        });\r\n      },\r\n      /* 保存编辑 */\r\n      save() {\r\n        this.$refs['editForm'].validate((valid) => {\r\n          if (valid) {\r\n            const loading = this.$loading({lock: true});\r\n            this.$http[this.editForm.id ? 'put' : 'post'](this.editForm.id ? '/layout/edit' : '/layout/add', this.editForm).then(res => {\r\n              loading.close();\r\n              if (res.data.code === 0) {\r\n                this.$message({type: 'success', message: res.data.msg});\r\n                this.$emit('reload')\r\n              } else {\r\n                this.$message.error(res.data.msg);\r\n              }\r\n            }).catch(e => {\r\n              loading.close();\r\n              this.$message.error(e.message);\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      /**\r\n       * 关闭页面\r\n       */\r\n      handleClose(hide) {\r\n        if (hide) {\r\n          hide();\r\n        }\r\n        this.$emit(\"returnBack\");\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n/* 选项卡 */\r\n.demo-icon-tabs >>> .el-tabs__nav-scroll {\r\n  padding: 0 20px;\r\n}\r\n\r\n.demo-icon-tabs >>> .el-tabs__item {\r\n  height: 45px;\r\n  line-height: 45px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/system/layout"}]}