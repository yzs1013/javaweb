{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-52ce237e\"],{b145:function(e,t,a){\"use strict\";a(\"fbf4\")},dc3f:function(e,t,a){\"use strict\";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{class:[\"login-wrapper\",[\"\",\"login-form-right\",\"login-form-left\"][e.direction]]},[a(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form ele-bg-white\",attrs:{model:e.form,rules:e.rules,size:\"large\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.doSubmit(t)}}},[a(\"h4\",[e._v(\"JavaWeb_Vue_Pro【旗舰版】前后端分离\")]),a(\"el-form-item\",{attrs:{prop:\"username\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入登录账号\",\"prefix-icon\":\"el-icon-user\",clearable:\"\"},model:{value:e.form.username,callback:function(t){e.$set(e.form,\"username\",t)},expression:\"form.username\"}})],1),a(\"el-form-item\",{attrs:{prop:\"password\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入登录密码\",\"prefix-icon\":\"el-icon-lock\",\"show-password\":\"\"},model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}})],1),a(\"el-form-item\",{attrs:{prop:\"captcha\"}},[a(\"div\",{staticClass:\"login-input-group\"},[a(\"el-input\",{attrs:{placeholder:\"请输入验证码\",\"prefix-icon\":\"el-icon-_vercode\"},model:{value:e.form.captcha,callback:function(t){e.$set(e.form,\"captcha\",t)},expression:\"form.captcha\"}}),e.captcha?a(\"img\",{staticClass:\"login-captcha\",attrs:{src:e.captcha,alt:\"\"},on:{click:e.changeCaptcha}}):e._e()],1)]),a(\"div\",{staticClass:\"el-form-item\"},[a(\"el-checkbox\",{model:{value:e.form.remember,callback:function(t){e.$set(e.form,\"remember\",t)},expression:\"form.remember\"}},[e._v(\"记住密码 \")])],1),a(\"div\",{staticClass:\"el-form-item\"},[a(\"el-button\",{staticClass:\"login-btn\",attrs:{loading:e.loading,type:\"primary\",size:\"large\"},on:{click:e.doSubmit}},[e._v(\" \"+e._s(e.loading?\"登录中\":\"登录\")+\" \")])],1),a(\"div\",{staticClass:\"ele-text-center\",staticStyle:{\"margin-bottom\":\"10px\"}},[a(\"i\",{staticClass:\"login-oauth-icon el-icon-_qq\",staticStyle:{\"background-color\":\"#3492ed\"}}),a(\"i\",{staticClass:\"login-oauth-icon el-icon-_wechat\",staticStyle:{\"background-color\":\"#4daf29\"}}),a(\"i\",{staticClass:\"login-oauth-icon el-icon-_weibo\",staticStyle:{\"background-color\":\"#CF1900\"}})])],1),a(\"div\",{staticClass:\"login-copyright\"},[e._v(\"Copyright © 2017~2021 www.javaweb.vip. All rights reserved.\")])],1)},r=[],s={name:\"Login\",data:function(){return{direction:1,loading:!1,form:{username:\"admin\",password:\"123456\",captcha:\"520\",remember:!0,key:\"\"},rules:{username:[{required:!0,message:\"请输入账号\",trigger:\"blur\"}],password:[{required:!0,message:\"请输入密码\",trigger:\"blur\"}],captcha:[{required:!0,message:\"请输入验证码\",trigger:\"blur\"}]},captcha:\"\"}},mounted:function(){this.$store.state.user.token&&this.$router.push(this.$route.query.from||\"/\"),this.changeCaptcha()},methods:{doSubmit:function(){var e=this;this.$refs[\"loginForm\"].validate((function(t){if(!t)return!1;e.loading=!0;var a=new FormData;for(var o in e.form)a.append(o,e.form[o]);console.log(e.form),e.$http.post(\"/login/login\",e.form).then((function(t){e.loading=!1,0===t.data.code?(e.$message({type:\"success\",message:\"登录成功\"}),e.$store.dispatch(\"user/setToken\",t.data.data.access_token).then((function(){e.$router.push(e.$route.query.from||\"/\").catch((function(){}))}))):e.$message.error(t.data.msg)})).catch((function(t){console.log(t),e.loading=!1,e.$message.error(\"用户名或密码不正确\")}))}))},changeCaptcha:function(){var e=this;this.$http.get(\"/login/captcha\").then((function(t){0===t.data.code?(e.captcha=t.data.data.captcha,e.form.key=t.data.data.key):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t.message)}))}}},i=s,c=(a(\"b145\"),a(\"0c7c\")),n=Object(c[\"a\"])(i,o,r,!1,null,\"66bd1406\",null);t[\"default\"]=n.exports},fbf4:function(e,t,a){}}]);","extractedComments":[]}