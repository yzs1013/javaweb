{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1ef18404\"],{\"5fc9\":function(e,t,l){\"use strict\";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",{staticClass:\"ele-body\"},[l(\"el-card\",{attrs:{shadow:\"never\"}},[l(\"el-form\",{staticClass:\"ele-form-search\",attrs:{model:e.table.where,\"label-width\":\"90px\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.$refs.table.reload()},submit:function(e){e.preventDefault()}}},[l(\"el-row\",{attrs:{gutter:15}},[l(\"el-col\",{attrs:{md:6,sm:12}},[l(\"el-form-item\",{attrs:{label:\"广告位名称:\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入广告位名称\",clearable:\"\"},model:{value:e.table.where.name,callback:function(t){e.$set(e.table.where,\"name\",t)},expression:\"table.where.name\"}})],1)],1),l(\"el-col\",{attrs:{md:6,sm:12}},[l(\"div\",{staticClass:\"ele-form-actions\"},[l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:function(t){return e.$refs.table.reload()}}},[e._v(\"查询 \")]),l(\"el-button\",{on:{click:function(t){(e.table.where={})&&e.$refs.table.reload()}}},[e._v(\"重置\")])],1)])],1)],1),l(\"div\",{staticClass:\"ele-table-tool ele-table-tool-default\"},[e.permission.includes(\"sys:adsort:add\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"primary\",icon:\"el-icon-plus\",size:\"small\"},on:{click:function(t){e.showEdit=!0}}},[e._v(\"添加 \")]):e._e(),e.permission.includes(\"sys:adsort:dall\")?l(\"el-button\",{staticClass:\"ele-btn-icon\",attrs:{type:\"danger\",icon:\"el-icon-delete\",size:\"small\"},on:{click:function(t){return e.remove()}}},[e._v(\"批量删除 \")]):e._e()],1),l(\"ele-data-table\",{ref:\"table\",attrs:{config:e.table,choose:e.choose,height:\"calc(100vh - 315px)\",\"highlight-current-row\":\"\"},on:{\"update:choose\":function(t){e.choose=t}},scopedSlots:e._u([{key:\"default\",fn:function(t){var o=t.index;return[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"45\",align:\"center\",fixed:\"left\"}}),l(\"el-table-column\",{attrs:{type:\"index\",index:o,label:\"编号\",width:\"60\",align:\"center\",fixed:\"left\",\"show-overflow-tooltip\":\"\"}}),l(\"el-table-column\",{attrs:{prop:\"name\",label:\"广告位名称\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"200\"}}),l(\"el-table-column\",{attrs:{label:\"广告位描述\",\"show-overflow-tooltip\":\"\",\"min-width\":\"250\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var l=t.row;return[e._v(e._s(l.description)+\" => \"+e._s(l.locId))]}}],null,!0)}),l(\"el-table-column\",{attrs:{prop:\"itemCateName\",label:\"所属栏目\",\"show-overflow-tooltip\":\"\",\"min-width\":\"120\",align:\"center\"}}),l(\"el-table-column\",{attrs:{label:\"广告位平台\",\"min-width\":\"100\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var o=t.row;return[l(\"el-tag\",{attrs:{type:[\"\",\"primary\",\"success\",\"warning\"][o.platform-1],size:\"mini\"}},[e._v(e._s([\"PC站\",\"WAP站\",\"微信小程序\",\"APP应用\"][o.platform-1]))])]}}],null,!0)}),l(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序\",sortable:\"custom\",\"show-overflow-tooltip\":\"\"}}),l(\"el-table-column\",{attrs:{label:\"创建时间\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"160\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var l=t.row;return[e._v(e._s(e._f(\"toDateString\")(l.createTime)))]}}],null,!0)}),l(\"el-table-column\",{attrs:{label:\"更新时间\",sortable:\"custom\",\"show-overflow-tooltip\":\"\",\"min-width\":\"160\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var l=t.row;return[e._v(e._s(e._f(\"toDateString\")(l.updateTime)))]}}],null,!0)}),l(\"el-table-column\",{attrs:{label:\"操作\",width:\"130px\",align:\"center\",resizable:!1,fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var o=t.row;return[e.permission.includes(\"sys:adsort:edit\")?l(\"el-link\",{attrs:{icon:\"el-icon-edit\",type:\"primary\",underline:!1},on:{click:function(t){return e.edit(o)}}},[e._v(\"修改\")]):e._e(),l(\"el-popconfirm\",{staticClass:\"ele-action\",attrs:{title:\"确定要删除此广告位吗？\"},on:{confirm:function(t){return e.remove(o)}}},[e.permission.includes(\"sys:adsort:delete\")?l(\"el-link\",{attrs:{slot:\"reference\",icon:\"el-icon-delete\",type:\"danger\",underline:!1},slot:\"reference\"},[e._v(\"删除\")]):e._e()],1)]}}],null,!0)})]}}])})],1),l(\"el-dialog\",{attrs:{title:(e.editForm.id,\"修改广告位\"),visible:e.showEdit,width:\"400px\",\"destroy-on-close\":!0,\"lock-scroll\":!1},on:{\"update:visible\":function(t){e.showEdit=t},closed:function(t){e.editForm={}}}},[l(\"el-form\",{ref:\"editForm\",attrs:{model:e.editForm,rules:e.editRules,\"label-width\":\"100px\"}},[l(\"el-form-item\",{attrs:{label:\"广告位名称:\",prop:\"name\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入广告位名称\",clearable:\"\"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,\"name\",t)},expression:\"editForm.name\"}})],1),l(\"el-form-item\",{attrs:{label:\"广告位描述:\",prop:\"description\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入广告位描述\",clearable:\"\"},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,\"description\",t)},expression:\"editForm.description\"}})],1),l(\"el-form-item\",{attrs:{label:\"广告位位置:\",prop:\"locId\"}},[l(\"el-input\",{attrs:{placeholder:\"请输入广告位描述\",clearable:\"\"},model:{value:e.editForm.locId,callback:function(t){e.$set(e.editForm,\"locId\",t)},expression:\"editForm.locId\"}})],1),l(\"el-form-item\",{attrs:{label:\"广告位平台:\",prop:\"platform\"}},[l(\"el-select\",{staticClass:\"ele-block\",attrs:{placeholder:\"请选择广告位平台\",clearable:\"\"},model:{value:e.editForm.platform,callback:function(t){e.$set(e.editForm,\"platform\",t)},expression:\"editForm.platform\"}},[l(\"el-option\",{attrs:{label:\"PC站\",value:1}}),l(\"el-option\",{attrs:{label:\"WAP站\",value:2}}),l(\"el-option\",{attrs:{label:\"微信小程序\",value:3}}),l(\"el-option\",{attrs:{label:\"APP应用\",value:4}})],1)],1),l(\"el-form-item\",{attrs:{label:\"排序号:\",prop:\"sort\"}},[l(\"el-input-number\",{staticClass:\"ele-fluid ele-text-left\",attrs:{\"controls-position\":\"right\",min:0,placeholder:\"请输入排序号\"},model:{value:e.editForm.sort,callback:function(t){e.$set(e.editForm,\"sort\",t)},expression:\"editForm.sort\"}})],1)],1),l(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"el-button\",{on:{click:function(t){e.showEdit=!1}}},[e._v(\"取消\")]),l(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"保存\")])],1)],1)],1)},r=[],s=(l(\"d81d\"),l(\"5530\")),a=l(\"2f62\"),i={name:\"SysAdSort\",data:function(){return{table:{url:\"/adsort/index\",where:{}},choose:[],showEdit:!1,editForm:{},editRules:{name:[{required:!0,message:\"请输入广告位名称\",trigger:\"blur\"}],description:[{required:!0,message:\"请输入广告位描述\",trigger:\"blur\"}],locId:[{required:!0,message:\"请输入广告位位置\",trigger:\"blur\"}],platform:[{required:!0,message:\"请选择广告位平台\",trigger:\"blur\"}],sort:[{required:!0,message:\"请输入排序\",trigger:\"blur\"}]}}},computed:Object(s[\"a\"])({},Object(a[\"b\"])([\"permission\"])),mounted:function(){},methods:{edit:function(e){this.editForm=Object.assign({},e),this.showEdit=!0},save:function(){var e=this;this.$refs[\"editForm\"].validate((function(t){if(!t)return!1;var l=e.$loading({lock:!0});e.$http[e.editForm.id?\"put\":\"post\"](e.editForm.id?\"/adsort/edit\":\"/adsort/add\",e.editForm).then((function(t){l.close(),0===t.data.code?(e.showEdit=!1,e.$message({type:\"success\",message:t.data.msg}),e.$refs.table.reload()):e.$message.error(t.data.msg)})).catch((function(t){l.close(),e.$message.error(t.message)}))}))},remove:function(e){var t=this;if(e){var l=this.$loading({lock:!0});this.$http.delete(\"/adsort/delete/\"+[e.id]).then((function(e){l.close(),0===e.data.code?(t.$message({type:\"success\",message:e.data.msg}),t.$refs.table.reload()):t.$message.error(e.data.msg)})).catch((function(e){l.close(),t.$message.error(e.message)}))}else{if(0===this.choose.length)return this.$message.error(\"请至少选择一条数据\");var o=this.choose.map((function(e){return e.id}));this.$confirm(\"确定要删除选中的广告位吗?\",\"提示\",{type:\"warning\"}).then((function(){var e=t.$loading({lock:!0});t.$http.delete(\"/adsort/delete/\"+o).then((function(l){e.close(),0===l.data.code?(t.$message({type:\"success\",message:l.data.msg}),t.$refs.table.reload()):t.$message.error(l.data.msg)})).catch((function(l){e.close(),t.$message.error(l.message)}))})).catch((function(){return 0}))}}}},n=i,c=(l(\"6464\"),l(\"0c7c\")),d=Object(c[\"a\"])(n,o,r,!1,null,\"14750900\",null);t[\"default\"]=d.exports},6464:function(e,t,l){\"use strict\";l(\"a755\")},a755:function(e,t,l){}}]);","extractedComments":[]}