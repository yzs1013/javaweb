{"remainingRequest":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebVue\\javaweb-ui\\node_modules\\element-ui\\lib\\utils\\popup\\popup-manager.js","dependencies":[{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\element-ui\\lib\\utils\\popup\\popup-manager.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7Cgp2YXIgX3Z1ZSA9IHJlcXVpcmUoJ3Z1ZScpOwoKdmFyIF92dWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdnVlKTsKCnZhciBfZG9tID0gcmVxdWlyZSgnZWxlbWVudC11aS9saWIvdXRpbHMvZG9tJyk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9Cgp2YXIgaGFzTW9kYWwgPSBmYWxzZTsKdmFyIGhhc0luaXRaSW5kZXggPSBmYWxzZTsKdmFyIHpJbmRleCA9IHZvaWQgMDsKCnZhciBnZXRNb2RhbCA9IGZ1bmN0aW9uIGdldE1vZGFsKCkgewogIGlmIChfdnVlMi5kZWZhdWx0LnByb3RvdHlwZS4kaXNTZXJ2ZXIpIHJldHVybjsKICB2YXIgbW9kYWxEb20gPSBQb3B1cE1hbmFnZXIubW9kYWxEb207CgogIGlmIChtb2RhbERvbSkgewogICAgaGFzTW9kYWwgPSB0cnVlOwogIH0gZWxzZSB7CiAgICBoYXNNb2RhbCA9IGZhbHNlOwogICAgbW9kYWxEb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIFBvcHVwTWFuYWdlci5tb2RhbERvbSA9IG1vZGFsRG9tOwogICAgbW9kYWxEb20uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSk7CiAgICBtb2RhbERvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgUG9wdXBNYW5hZ2VyLmRvT25Nb2RhbENsaWNrICYmIFBvcHVwTWFuYWdlci5kb09uTW9kYWxDbGljaygpOwogICAgfSk7CiAgfQoKICByZXR1cm4gbW9kYWxEb207Cn07Cgp2YXIgaW5zdGFuY2VzID0ge307CnZhciBQb3B1cE1hbmFnZXIgPSB7CiAgbW9kYWxGYWRlOiB0cnVlLAogIGdldEluc3RhbmNlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShpZCkgewogICAgcmV0dXJuIGluc3RhbmNlc1tpZF07CiAgfSwKICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoaWQsIGluc3RhbmNlKSB7CiAgICBpZiAoaWQgJiYgaW5zdGFuY2UpIHsKICAgICAgaW5zdGFuY2VzW2lkXSA9IGluc3RhbmNlOwogICAgfQogIH0sCiAgZGVyZWdpc3RlcjogZnVuY3Rpb24gZGVyZWdpc3RlcihpZCkgewogICAgaWYgKGlkKSB7CiAgICAgIGluc3RhbmNlc1tpZF0gPSBudWxsOwogICAgICBkZWxldGUgaW5zdGFuY2VzW2lkXTsKICAgIH0KICB9LAogIG5leHRaSW5kZXg6IGZ1bmN0aW9uIG5leHRaSW5kZXgoKSB7CiAgICByZXR1cm4gUG9wdXBNYW5hZ2VyLnpJbmRleCsrOwogIH0sCiAgbW9kYWxTdGFjazogW10sCiAgZG9Pbk1vZGFsQ2xpY2s6IGZ1bmN0aW9uIGRvT25Nb2RhbENsaWNrKCkgewogICAgdmFyIHRvcEl0ZW0gPSBQb3B1cE1hbmFnZXIubW9kYWxTdGFja1tQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggLSAxXTsKICAgIGlmICghdG9wSXRlbSkgcmV0dXJuOwogICAgdmFyIGluc3RhbmNlID0gUG9wdXBNYW5hZ2VyLmdldEluc3RhbmNlKHRvcEl0ZW0uaWQpOwoKICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5jbG9zZU9uQ2xpY2tNb2RhbCkgewogICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgfQogIH0sCiAgb3Blbk1vZGFsOiBmdW5jdGlvbiBvcGVuTW9kYWwoaWQsIHpJbmRleCwgZG9tLCBtb2RhbENsYXNzLCBtb2RhbEZhZGUpIHsKICAgIGlmIChfdnVlMi5kZWZhdWx0LnByb3RvdHlwZS4kaXNTZXJ2ZXIpIHJldHVybjsKICAgIGlmICghaWQgfHwgekluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgIHRoaXMubW9kYWxGYWRlID0gbW9kYWxGYWRlOwogICAgdmFyIG1vZGFsU3RhY2sgPSB0aGlzLm1vZGFsU3RhY2s7CgogICAgZm9yICh2YXIgaSA9IDAsIGogPSBtb2RhbFN0YWNrLmxlbmd0aDsgaSA8IGo7IGkrKykgewogICAgICB2YXIgaXRlbSA9IG1vZGFsU3RhY2tbaV07CgogICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KCiAgICB2YXIgbW9kYWxEb20gPSBnZXRNb2RhbCgpOwogICAgKDAsIF9kb20uYWRkQ2xhc3MpKG1vZGFsRG9tLCAndi1tb2RhbCcpOwoKICAgIGlmICh0aGlzLm1vZGFsRmFkZSAmJiAhaGFzTW9kYWwpIHsKICAgICAgKDAsIF9kb20uYWRkQ2xhc3MpKG1vZGFsRG9tLCAndi1tb2RhbC1lbnRlcicpOwogICAgfQoKICAgIGlmIChtb2RhbENsYXNzKSB7CiAgICAgIHZhciBjbGFzc0FyciA9IG1vZGFsQ2xhc3MudHJpbSgpLnNwbGl0KC9ccysvKTsKICAgICAgY2xhc3NBcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAoMCwgX2RvbS5hZGRDbGFzcykobW9kYWxEb20sIGl0ZW0pOwogICAgICB9KTsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgKDAsIF9kb20ucmVtb3ZlQ2xhc3MpKG1vZGFsRG9tLCAndi1tb2RhbC1lbnRlcicpOwogICAgfSwgMjAwKTsKCiAgICBpZiAoZG9tICYmIGRvbS5wYXJlbnROb2RlICYmIGRvbS5wYXJlbnROb2RlLm5vZGVUeXBlICE9PSAxMSkgewogICAgICBkb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChtb2RhbERvbSk7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsRG9tKTsKICAgIH0KCiAgICBpZiAoekluZGV4KSB7CiAgICAgIG1vZGFsRG9tLnN0eWxlLnpJbmRleCA9IHpJbmRleDsKICAgIH0KCiAgICBtb2RhbERvbS50YWJJbmRleCA9IDA7CiAgICBtb2RhbERvbS5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICB0aGlzLm1vZGFsU3RhY2sucHVzaCh7CiAgICAgIGlkOiBpZCwKICAgICAgekluZGV4OiB6SW5kZXgsCiAgICAgIG1vZGFsQ2xhc3M6IG1vZGFsQ2xhc3MKICAgIH0pOwogIH0sCiAgY2xvc2VNb2RhbDogZnVuY3Rpb24gY2xvc2VNb2RhbChpZCkgewogICAgdmFyIG1vZGFsU3RhY2sgPSB0aGlzLm1vZGFsU3RhY2s7CiAgICB2YXIgbW9kYWxEb20gPSBnZXRNb2RhbCgpOwoKICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHRvcEl0ZW0gPSBtb2RhbFN0YWNrW21vZGFsU3RhY2subGVuZ3RoIC0gMV07CgogICAgICBpZiAodG9wSXRlbS5pZCA9PT0gaWQpIHsKICAgICAgICBpZiAodG9wSXRlbS5tb2RhbENsYXNzKSB7CiAgICAgICAgICB2YXIgY2xhc3NBcnIgPSB0b3BJdGVtLm1vZGFsQ2xhc3MudHJpbSgpLnNwbGl0KC9ccysvKTsKICAgICAgICAgIGNsYXNzQXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuICgwLCBfZG9tLnJlbW92ZUNsYXNzKShtb2RhbERvbSwgaXRlbSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIG1vZGFsU3RhY2sucG9wKCk7CgogICAgICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA+IDApIHsKICAgICAgICAgIG1vZGFsRG9tLnN0eWxlLnpJbmRleCA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXS56SW5kZXg7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIGkgPSBtb2RhbFN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICBpZiAobW9kYWxTdGFja1tpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgbW9kYWxTdGFjay5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA9PT0gMCkgewogICAgICBpZiAodGhpcy5tb2RhbEZhZGUpIHsKICAgICAgICAoMCwgX2RvbS5hZGRDbGFzcykobW9kYWxEb20sICd2LW1vZGFsLWxlYXZlJyk7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgaWYgKG1vZGFsRG9tLnBhcmVudE5vZGUpIG1vZGFsRG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobW9kYWxEb20pOwogICAgICAgICAgbW9kYWxEb20uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIFBvcHVwTWFuYWdlci5tb2RhbERvbSA9IHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgICgwLCBfZG9tLnJlbW92ZUNsYXNzKShtb2RhbERvbSwgJ3YtbW9kYWwtbGVhdmUnKTsKICAgICAgfSwgMjAwKTsKICAgIH0KICB9Cn07Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3B1cE1hbmFnZXIsICd6SW5kZXgnLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgaWYgKCFoYXNJbml0WkluZGV4KSB7CiAgICAgIHpJbmRleCA9IHpJbmRleCB8fCAoX3Z1ZTIuZGVmYXVsdC5wcm90b3R5cGUuJEVMRU1FTlQgfHwge30pLnpJbmRleCB8fCAyMDAwOwogICAgICBoYXNJbml0WkluZGV4ID0gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gekluZGV4OwogIH0sCiAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgIHpJbmRleCA9IHZhbHVlOwogIH0KfSk7Cgp2YXIgZ2V0VG9wUG9wdXAgPSBmdW5jdGlvbiBnZXRUb3BQb3B1cCgpIHsKICBpZiAoX3Z1ZTIuZGVmYXVsdC5wcm90b3R5cGUuJGlzU2VydmVyKSByZXR1cm47CgogIGlmIChQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggPiAwKSB7CiAgICB2YXIgdG9wUG9wdXAgPSBQb3B1cE1hbmFnZXIubW9kYWxTdGFja1tQb3B1cE1hbmFnZXIubW9kYWxTdGFjay5sZW5ndGggLSAxXTsKICAgIGlmICghdG9wUG9wdXApIHJldHVybjsKICAgIHZhciBpbnN0YW5jZSA9IFBvcHVwTWFuYWdlci5nZXRJbnN0YW5jZSh0b3BQb3B1cC5pZCk7CiAgICByZXR1cm4gaW5zdGFuY2U7CiAgfQp9OwoKaWYgKCFfdnVlMi5kZWZhdWx0LnByb3RvdHlwZS4kaXNTZXJ2ZXIpIHsKICAvLyBoYW5kbGUgYGVzY2Aga2V5IHdoZW4gdGhlIHBvcHVwIGlzIHNob3duCiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudC5rZXlDb2RlID09PSAyNykgewogICAgICB2YXIgdG9wUG9wdXAgPSBnZXRUb3BQb3B1cCgpOwoKICAgICAgaWYgKHRvcFBvcHVwICYmIHRvcFBvcHVwLmNsb3NlT25QcmVzc0VzY2FwZSkgewogICAgICAgIHRvcFBvcHVwLmhhbmRsZUNsb3NlID8gdG9wUG9wdXAuaGFuZGxlQ2xvc2UoKSA6IHRvcFBvcHVwLmhhbmRsZUFjdGlvbiA/IHRvcFBvcHVwLmhhbmRsZUFjdGlvbignY2FuY2VsJykgOiB0b3BQb3B1cC5jbG9zZSgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCmV4cG9ydHMuZGVmYXVsdCA9IFBvcHVwTWFuYWdlcjs="},{"version":3,"sources":["D:/JavaWebVue/javaweb-ui/node_modules/element-ui/lib/utils/popup/popup-manager.js"],"names":["exports","__esModule","_vue","require","_vue2","_interopRequireDefault","_dom","obj","default","hasModal","hasInitZIndex","zIndex","getModal","prototype","$isServer","modalDom","PopupManager","document","createElement","addEventListener","event","preventDefault","stopPropagation","doOnModalClick","instances","modalFade","getInstance","id","register","instance","deregister","nextZIndex","modalStack","topItem","length","closeOnClickModal","close","openModal","dom","modalClass","undefined","i","j","item","addClass","classArr","trim","split","forEach","setTimeout","removeClass","parentNode","nodeType","appendChild","body","style","tabIndex","display","push","closeModal","pop","splice","removeChild","Object","defineProperty","configurable","get","$ELEMENT","set","value","getTopPopup","topPopup","window","keyCode","closeOnPressEscape","handleClose","handleAction"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = require('element-ui/lib/utils/dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasModal = false;\nvar hasInitZIndex = false;\nvar zIndex = void 0;\n\nvar getModal = function getModal() {\n  if (_vue2.default.prototype.$isServer) return;\n  var modalDom = PopupManager.modalDom;\n  if (modalDom) {\n    hasModal = true;\n  } else {\n    hasModal = false;\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n\n    modalDom.addEventListener('touchmove', function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n\n    modalDom.addEventListener('click', function () {\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n    });\n  }\n\n  return modalDom;\n};\n\nvar instances = {};\n\nvar PopupManager = {\n  modalFade: true,\n\n  getInstance: function getInstance(id) {\n    return instances[id];\n  },\n\n  register: function register(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n\n  deregister: function deregister(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n\n  nextZIndex: function nextZIndex() {\n    return PopupManager.zIndex++;\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function doOnModalClick() {\n    var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n\n    var instance = PopupManager.getInstance(topItem.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n\n  openModal: function openModal(id, zIndex, dom, modalClass, modalFade) {\n    if (_vue2.default.prototype.$isServer) return;\n    if (!id || zIndex === undefined) return;\n    this.modalFade = modalFade;\n\n    var modalStack = this.modalStack;\n\n    for (var i = 0, j = modalStack.length; i < j; i++) {\n      var item = modalStack[i];\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    var modalDom = getModal();\n\n    (0, _dom.addClass)(modalDom, 'v-modal');\n    if (this.modalFade && !hasModal) {\n      (0, _dom.addClass)(modalDom, 'v-modal-enter');\n    }\n    if (modalClass) {\n      var classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(function (item) {\n        return (0, _dom.addClass)(modalDom, item);\n      });\n    }\n    setTimeout(function () {\n      (0, _dom.removeClass)(modalDom, 'v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n    modalDom.tabIndex = 0;\n    modalDom.style.display = '';\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n  },\n\n  closeModal: function closeModal(id) {\n    var modalStack = this.modalStack;\n    var modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      var topItem = modalStack[modalStack.length - 1];\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          var classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(function (item) {\n            return (0, _dom.removeClass)(modalDom, item);\n          });\n        }\n\n        modalStack.pop();\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (var i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      if (this.modalFade) {\n        (0, _dom.addClass)(modalDom, 'v-modal-leave');\n      }\n      setTimeout(function () {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n          PopupManager.modalDom = undefined;\n        }\n        (0, _dom.removeClass)(modalDom, 'v-modal-leave');\n      }, 200);\n    }\n  }\n};\n\nObject.defineProperty(PopupManager, 'zIndex', {\n  configurable: true,\n  get: function get() {\n    if (!hasInitZIndex) {\n      zIndex = zIndex || (_vue2.default.prototype.$ELEMENT || {}).zIndex || 2000;\n      hasInitZIndex = true;\n    }\n    return zIndex;\n  },\n  set: function set(value) {\n    zIndex = value;\n  }\n});\n\nvar getTopPopup = function getTopPopup() {\n  if (_vue2.default.prototype.$isServer) return;\n  if (PopupManager.modalStack.length > 0) {\n    var topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topPopup) return;\n    var instance = PopupManager.getInstance(topPopup.id);\n\n    return instance;\n  }\n};\n\nif (!_vue2.default.prototype.$isServer) {\n  // handle `esc` key when the popup is shown\n  window.addEventListener('keydown', function (event) {\n    if (event.keyCode === 27) {\n      var topPopup = getTopPopup();\n\n      if (topPopup && topPopup.closeOnPressEscape) {\n        topPopup.handleClose ? topPopup.handleClose() : topPopup.handleAction ? topPopup.handleAction('cancel') : topPopup.close();\n      }\n    }\n  });\n}\n\nexports.default = PopupManager;"]}]}