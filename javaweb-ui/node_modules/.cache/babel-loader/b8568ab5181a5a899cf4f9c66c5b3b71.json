{"remainingRequest":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebVue\\javaweb-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\JavaWebVue\\javaweb-ui\\src\\router\\index.js","dependencies":[{"path":"D:\\JavaWebVue\\javaweb-ui\\src\\router\\index.js","mtime":1616221370000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\JavaWebVue\\javaweb-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L0phdmFXZWJWdWUvamF2YXdlYi11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CgovKioNCiAqIOi3r+eUsemFjee9rg0KICovCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwppbXBvcnQgc2V0dGluZyBmcm9tICdAL2NvbmZpZy9zZXR0aW5nJzsKaW1wb3J0IEVsZUxheW91dCBmcm9tICdAL3ZpZXdzL2NvbW1vbi9sYXlvdXQvTGF5b3V0JzsKaW1wb3J0IE5Qcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOwpWdWUudXNlKFZ1ZVJvdXRlcik7Ci8qIOmdmeaAgei3r+eUsemFjee9riAqLwoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy9sb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL3ZpZXdzL2xvZ2luL2xvZ2luJyk7CiAgfSwKICBtZXRhOiB7CiAgICBoaWRlOiB0cnVlLAogICAgdGl0bGU6ICfnmbvlvZUnCiAgfQp9LCB7CiAgcGF0aDogJy9mb3JnZXQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC92aWV3cy9sb2dpbi9mb3JnZXQnKTsKICB9LAogIG1ldGE6IHsKICAgIGhpZGU6IHRydWUsCiAgICB0aXRsZTogJ+W/mOiusOWvhueggScKICB9Cn1dOyAvLyA0MDTot6/nlLHlnKjliqjmgIHot6/nlLHlkI7pnaLliqAKCnZhciByb3V0ZTQwNCA9IHsKICBwYXRoOiAnJywKICBjb21wb25lbnQ6IEVsZUxheW91dCwKICBtZXRhOiB7CiAgICBoaWRlOiB0cnVlCiAgfSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICcqJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCdAL3ZpZXdzL2NvbW1vbi9leGNlcHRpb24vNDA0Jyk7CiAgICB9LAogICAgbWV0YTogewogICAgICBoaWRlOiB0cnVlLAogICAgICB0aXRsZTogJzQwNCcKICAgIH0KICB9XQp9Owp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgcm91dGVzOiByb3V0ZXMsCiAgbW9kZTogJ2hpc3RvcnknIC8vIOaKiui/meS4quWIoOaOieWwseaYr2hhc2jmqKHlvI8KCn0pOwovKiDot6/nlLHlrojljasgKi8KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIE5Qcm9ncmVzcy5zdGFydCgpOwogIGRvY3VtZW50LnRpdGxlID0gIiIuY29uY2F0KHRvLm1ldGEudGl0bGUgfHwgJycpLmNvbmNhdCh0by5tZXRhLnRpdGxlID8gJyAtICcgOiAnJykuY29uY2F0KHNldHRpbmcubmFtZSk7CgogIGlmIChzdG9yZS5zdGF0ZS51c2VyLnRva2VuKSB7CiAgICAvLyDliKTmlq3mmK/lkKbnmbvlvZUKICAgIGlmICghc3RvcmUuc3RhdGUudXNlci5tZW51cykgewogICAgICAvLyDliKTmlq3mmK/lkKblt7Lms6jlhozliqjmgIHot6/nlLEKICAgICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvZ2V0TWVudVJvdXRlcnMnKS50aGVuKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgIC8vIOiOt+WPluWKqOaAgei3r+eUsQogICAgICAgIGlmIChyb3V0ZSAmJiByb3V0ZS5jaGlsZHJlbikgewogICAgICAgICAgcm91dGUuY29tcG9uZW50ID0gRWxlTGF5b3V0OyAvLyDljrvpmaTlt7Lms6jlhoznmoTot6/nlLEKCiAgICAgICAgICBmb3IgKHZhciBpID0gcm91dGUuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKHJvdXRlci5yZXNvbHZlKHJvdXRlLmNoaWxkcmVuW2ldLnBhdGgpLnJlc29sdmVkLm1hdGNoZWQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgcm91dGUuY2hpbGRyZW4uc3BsaWNlKGksIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhbcm91dGUsIHJvdXRlNDA0XSk7CiAgICAgICAgfQoKICAgICAgICBuZXh0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG8pLCB7fSwgewogICAgICAgICAgcmVwbGFjZTogdHJ1ZQogICAgICAgIH0pKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSBpZiAoc2V0dGluZy53aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSAhPT0gLTEpIHsKICAgIC8vIOWIpOaWreaYr+WQpuWcqOaXoOmcgOeZu+W9leeZveWQjeWNlQogICAgbmV4dCgpOwogIH0gZWxzZSB7CiAgICAvLyDmnKrnmbvlvZXot7PovaznmbvlvZXpobXpnaIKICAgIG5leHQoewogICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgcXVlcnk6IHRvLnBhdGggPT09ICcvJyA/IHt9IDogewogICAgICAgIGZyb206IHRvLnBhdGgKICAgICAgfQogICAgfSk7CiAgfQp9KTsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICBOUHJvZ3Jlc3MuZG9uZSgpOwogIH0sIDE1MCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/JavaWebVue/javaweb-ui/src/router/index.js"],"names":["Vue","VueRouter","store","setting","EleLayout","NProgress","use","routes","path","component","meta","hide","title","route404","children","router","mode","beforeEach","to","from","next","start","document","name","state","user","token","menus","dispatch","then","route","i","length","resolve","resolved","matched","splice","addRoutes","replace","catch","whiteList","indexOf","query","afterEach","setTimeout","done"],"mappings":"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","sourcesContent":["/**\r\n * 路由配置\r\n */\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport store from '@/store'\r\nimport setting from '@/config/setting'\r\nimport EleLayout from '@/views/common/layout/Layout'\r\nimport NProgress from 'nprogress'\r\n\r\nVue.use(VueRouter);\r\n\r\n/* 静态路由配置 */\r\nconst routes = [\r\n    {\r\n        path: '/login',\r\n        component: () => import('@/views/login/login'),\r\n        meta: {hide: true, title: '登录'}\r\n    },\r\n    {\r\n        path: '/forget',\r\n        component: () => import('@/views/login/forget'),\r\n        meta: {hide: true, title: '忘记密码'}\r\n    }\r\n];\r\n\r\n// 404路由在动态路由后面加\r\nconst route404 = {\r\n    path: '',\r\n    component: EleLayout,\r\n    meta: {hide: true},\r\n    children: [\r\n        {\r\n            path: '*',\r\n            component: () => import('@/views/common/exception/404'),\r\n            meta: {hide: true, title: '404'}\r\n        }\r\n    ]\r\n};\r\n\r\nconst router = new VueRouter({\r\n    routes,\r\n    mode: 'history'  // 把这个删掉就是hash模式\r\n});\r\n\r\n/* 路由守卫 */\r\nrouter.beforeEach((to, from, next) => {\r\n    NProgress.start();\r\n    document.title = `${to.meta.title || ''}${to.meta.title ? ' - ' : ''}${setting.name}`;\r\n    if (store.state.user.token) {  // 判断是否登录\r\n        if (!store.state.user.menus) {  // 判断是否已注册动态路由\r\n            store.dispatch('user/getMenuRouters').then(route => {  // 获取动态路由\r\n                if (route && route.children) {\r\n                    route.component = EleLayout;\r\n                    // 去除已注册的路由\r\n                    for (let i = route.children.length - 1; i >= 0; i--) {\r\n                        if (router.resolve(route.children[i].path).resolved.matched.length) {\r\n                            route.children.splice(i, 1);\r\n                        }\r\n                    }\r\n                    router.addRoutes([route, route404]);\r\n                }\r\n                next({...to, replace: true});\r\n            }).catch(() => {\r\n            });\r\n        } else {\r\n            next();\r\n        }\r\n    } else if (setting.whiteList.indexOf(to.path) !== -1) {  // 判断是否在无需登录白名单\r\n        next();\r\n    } else {  // 未登录跳转登录页面\r\n        next({path: '/login', query: to.path === '/' ? {} : {from: to.path}});\r\n    }\r\n});\r\n\r\nrouter.afterEach(() => {\r\n    setTimeout(() => {\r\n        NProgress.done();\r\n    }, 150);\r\n});\r\n\r\nexport default router\r\n"]}]}